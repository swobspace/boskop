<%= simple_form_for(@location,
  html: { class: 'form-horizontal well' },
  wrapper: :horizontal_form,
  wrapper_mappings: {
    check_boxes: :horizontal_radio_and_checkboxes,
    radio_buttons: :horizontal_radio_and_checkboxes,
    file: :horizontal_file_input,
    boolean: :horizontal_boolean
  }) do |f| %>

  <fieldset>
    <%= form_legend %>

    <div class="form-inputs">
      <%= f.input :name
       %>
      <%= f.input :description
       %>
      <%= f.input :position
       %>

      <div class="well bs-merkmale">
	<%= f.simple_fields_for :merkmale, @location.merkmale do |m| %>
          <%= m.hidden_field(:merkmalklasse_id) %>
	  <% if m.object.merkmalklasse.format == 'dropdown' %>
	    <%= m.input :value, label: m.object.merkmalklasse.to_s,
			     collection: m.object.merkmalklasse.possible_values
	    %>
	  <% else %>
	    <%= m.input :value, label: m.object.merkmalklasse.to_s %>
	  <% end %>
	<% end %>
      </div>

      <div class="well bs-addresses">
	<%= f.simple_fields_for :addresses, @location.addresses do |addr| %>
	  <%= addr.input :streetaddress
	   %>
	  <%= addr.input :plz
	   %>
	  <%= addr.input :ort
	   %>
          <%= addr.input :_destroy, as: :boolean, label: t('actions.destroy') %>
	<% end %>
      </div>
    </div>

    <div class="form-actions col-sm-9 col-sm-offset-3">
      <%= f.button :submit, class: 'btn btn-primary' %>
      <%= cancel_button %>
    </div>
  </fieldset>
<% end %>
