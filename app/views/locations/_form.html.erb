<%= simple_form_for(@location,
  html: { class: 'form-horizontal well' },
  wrapper: :horizontal_form,
  wrapper_mappings: {
    check_boxes: :horizontal_radio_and_checkboxes,
    radio_buttons: :horizontal_radio_and_checkboxes,
    file: :horizontal_file_input,
    boolean: :horizontal_boolean
  }) do |f| %>

  <fieldset>
    <%= form_legend %>

    <div class="form-inputs">
      <%= f.input :name
       %>
      <%= f.input :description
       %>
      <%= f.input :position
       %>
      <% unless f.object.new_record? %>
        <div class="well bs-merkmale">
          <%= f.simple_fields_for :merkmale, @merkmale do |merkmal| %>
            <% if merkmal.object.merkmalklasse.format == 'dropdown' %>
              <% merkmal.input :value, label: merkmal.object.merkmalklasse,
                               collection: merkmal.object.merkmalklasse.possible_values
              %>
            <% else %>
              <% merkmal.input :value, label: merkmal.object.merkmalklasse %>
            <% end %>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="form-actions col-sm-9 col-sm-offset-3">
      <%= f.button :submit, class: 'btn btn-primary' %>
      <%= cancel_button %>
    </div>
  </fieldset>
<% end %>
