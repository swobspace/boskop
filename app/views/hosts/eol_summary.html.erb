<% content_for :head do %>
  <meta name="turbos-cache-control" content="no-cache">
<% end %>

<h1> EOL Matrix </h1>

<div data-controller="pivottable"
       data-pivottable-rows-value='["Operating System"]'
       data-pivottable-cols-value='["LID"]'
       data-pivottable-sum-value='["Hosts"]'
>
  <div id="eol_pivot" data-pivottable-target="pivot">
  </div>

  <br />
  <h1> EOL Data </h1>
  <table id="eol_summary" class="table table-bordered" data-pivottable-target="input">
   <thead>
    <tr>
      <th>Operating System</th>
      <th>LID</th>
      <th>Hosts</th>
    </tr>
   </thead>
   <tbody>
    <% @hosts.each do |host| %>
    <tr>
      <td><%= host['name'] %></td>
      <td><%= host['lid'] %></td>
      <td><%= host['count'] %></td>
    </tr>
    <% end %>
   </tbody>
  </table>
</div>
